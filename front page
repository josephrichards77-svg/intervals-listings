<section 
  style="
    max-width: 1000px;
    margin: 0 auto;
    padding: 20px 40px 0;
    font-family: 'Neue Haas Grotesk Display Pro', Helvetica, Arial, sans-serif;
    color: #111;
    line-height: 1.6;
    background: #FDFDFB;
  "
>
  <header style="text-align:center; margin:0; padding:0;">
    
    <img
      src="https://intervalslondon.com/wp-content/uploads/2025/10/INTERVALS-email-banner.png"
      alt="Intervals London"
      style="display:block; margin:0 auto 0.25em; max-width:260px; width:100%; height:auto;"
    >
    
    <p style="font-size:1rem; color:#555; margin:0 0 6px;">
      Intervals is a companion to moving image culture in London.
    </p>

    <nav style="margin:0; padding:0;">
      <a href="#" style="color:#000; text-decoration:none; margin:0 18px; font-size:1.75rem; font-weight:700; text-transform:uppercase; letter-spacing:0.06em; display:inline-block;">Home</a>
      <a href="#" style="color:#000; text-decoration:none; margin:0 18px; font-size:1.75rem; font-weight:700; text-transform:uppercase; letter-spacing:0.06em; display:inline-block;">Listings</a>
      <a href="#" style="color:#000; text-decoration:none; margin:0 18px; font-size:1.75rem; font-weight:700; text-transform:uppercase; letter-spacing:0.06em; display:inline-block;">Articles</a>
      <a href="#" style="color:#000; text-decoration:none; margin:0 18px; font-size:1.75rem; font-weight:700; text-transform:uppercase; letter-spacing:0.06em; display:inline-block;">Afterimage</a>
      <a href="#" style="color:#000; text-decoration:none; margin:0 18px; font-size:1.75rem; font-weight:700; text-transform:uppercase; letter-spacing:0.06em; display:inline-block;">About</a>
    </nav>

  </header>
</section>

<section 
  id="articles-section" 
  style="
    max-width:none;
    margin:0 auto;
    font-family:'Neue Haas Grotesk Display Pro', Helvetica, Arial, sans-serif;
    color:#000;
    line-height:1.5;
  "
></section>

<style>
/* === GRID STRUCTURE (Articles) === */
#articles-section .articles-layout {
  display: grid;
  grid-template-columns: 0.9fr 640px 0.9fr;
  justify-content: center;
  gap: 32px;
  align-items: stretch;
  padding: 5px 5px;
  box-sizing: border-box;
  width: 100%;
  position: relative;
}

/* vertical separators */
#articles-section .articles-layout::before,
#articles-section .articles-layout::after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  width: 1px;
  background: #ddd;
}
#articles-section .articles-layout::before {
  left: calc(50% - 320px - 16px);
}
#articles-section .articles-layout::after {
  left: calc(50% + 320px + 16px);
}

/* Columns */
#articles-section .column {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 16px;
}

/* POST CARDS */
.small-post,
.featured-post {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  border-bottom: 1px solid #ddd;
  padding-bottom: 0.5em;
  margin-bottom: 0.1em;
  min-height: 250px;
  box-sizing: border-box;
}
.small-post:last-child,
.featured-post:last-child {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

/* META TEXT */
.small-post p.meta,
.featured-post p.meta {
  margin: 0;
  padding-top: 0.3em;
  text-align: center;
  font-size: 12px !important;
  font-weight: 300 !important;
  color: #888 !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
}

/* IMAGES */
.small-post img,
.featured-post img {
  width: 100%;
  object-fit: cover;
  border-radius: 4px;
  opacity: 0.9;
  transition: opacity 0.2s ease;
  margin-bottom: 0em;
}
.small-post img { height: 180px; }
.featured-post img { height: 320px; border-radius: 8px; }
.small-post img:hover,
.featured-post img:hover { opacity: 1; }

/* TITLES */
#articles-section .left-column a,
#articles-section .right-column a {
  font-size: 30px !important;
  font-weight: 400 !important;
  line-height: 0.9 !important;
  color: #111 !important;
  text-decoration: none !important;
  display: block !important;
  margin: 0 !important;
  padding: 0 !important;
}
#articles-section .left-column a span,
#articles-section .right-column a span {
  display: inline-block;
  line-height: 1;
  transform: translateY(-0.05em);
}
#articles-section .left-column a:hover,
#articles-section .right-column a:hover {
  text-decoration: underline !important;
  text-underline-offset: 2px;
}

/* FEATURED TITLE */
#articles-section .center-column .featured-post h3,
#articles-section .center-column .featured-post h3 a {
  font-size: 50px !important;
  font-weight: 600 !important;
  line-height: 0.8 !important;
  letter-spacing: 0.01em !important;
  color: #111 !important;
  text-align: center !important;
  margin: 0.15em 0 0 !important;
  text-decoration: none !important;
  display: block !important;
}
#articles-section .center-column .featured-post h3 a:hover {
  text-decoration: underline !important;
  text-underline-offset: 3px !important;
}

/* RESPONSIVE */
@media (max-width: 1024px) {
  #articles-section .articles-layout {
    grid-template-columns: 1fr;
    gap: 60px;
    padding: 40px 20px;
  }
  #articles-section .articles-layout::before,
  #articles-section .articles-layout::after {
    display: none;
  }
  .small-post img { height: 220px; }
  .featured-post img { height: 360px; }
  .small-post, .featured-post { min-height: auto; }
}
</style>

<script>
(async () => {
  try {
    const res = await fetch(
      'https://intervalslondon.com/wp-json/wp/v2/posts?per_page=5&_embed'
    );
    if (!res.ok) throw new Error('Network error');

    const posts = await res.json();
    if (!posts.length) return;

    const container = document.getElementById('articles-section');
    let html = `<div class="articles-layout">`;

    const leftPosts = posts.slice(1, 3);
    const centerPost = posts[0];
    const rightPosts = posts.slice(3, 5);

    /* LEFT COLUMN */
    html += `<div class="column left-column">`;
    leftPosts.forEach(post => {
      const img = post._embedded?.['wp:featuredmedia']?.[0]?.source_url || '';
      const date = new Date(post.date).toLocaleDateString(
        'en-GB',
        { day:'numeric', month:'long', year:'numeric' }
      );
      html += `
        <article class="small-post">
          <div>
            ${img ? `<a href="${post.link}"><img src="${img}" alt="${post.title.rendered}"></a>` : ''}
            <a href="${post.link}"><span>${post.title.rendered}</span></a>
          </div>
          <p class="meta">${date}</p>
        </article>`;
    });
    html += `</div>`;

    /* CENTER COLUMN */
    const cImg = centerPost._embedded?.['wp:featuredmedia']?.[0]?.source_url || '';
    const cDate = new Date(centerPost.date).toLocaleDateString('en-GB', {
      day:'numeric', month:'long', year:'numeric'
    });
    html += `
      <div class="column center-column">
        <article class="featured-post">
          <div>
            ${cImg ? `<a href="${centerPost.link}"><img src="${cImg}" alt="${centerPost.title.rendered}"></a>` : ''}
            <h3><a href="${centerPost.link}">${centerPost.title.rendered}</a></h3>
          </div>
          <p class="meta">${cDate}</p>
        </article>
      </div>`;

    /* RIGHT COLUMN */
    html += `<div class="column right-column">`;
    rightPosts.forEach(post => {
      const img = post._embedded?.['wp:featuredmedia']?.[0]?.source_url || '';
      const date = new Date(post.date).toLocaleDateString(
        'en-GB',
        { day:'numeric', month:'long', year:'numeric' }
      );
      html += `
        <article class="small-post">
          <div>
            ${img ? `<a href="${post.link}"><img src="${img}" alt="${post.title.rendered}"></a>` : ''}
            <a href="${post.link}"><span>${post.title.rendered}</span></a>
          </div>
          <p class="meta">${date}</p>
        </article>`;
    });
    html += `</div></div>`;

    container.innerHTML = html;

  } catch (err) {
    console.error('Error loading posts:', err);
    document.getElementById('articles-section').textContent = 'Unable to load articles.';
  }
})();
</script>

<div 
  id="listings-header" 
  style="
    text-align:center;
    font-family:'Neue Haas Grotesk Display Pro', Helvetica, Arial, sans-serif;
    margin:4px auto 6px;
  "
>
  <a 
    href="/listings"
    style="
      text-decoration:none;
      color:#000;
      font-size:3rem;
      font-weight:700;
      letter-spacing:0.03em;
      text-transform:uppercase;
      border-bottom:2px solid #000;
      padding-bottom:4px;
    "
  >
    Listings
  </a>
</div>

<style>
/* ===========================================
   INTERVALS — POLISHED SCREEN-SLATE LISTINGS
   =========================================== */

/* WRAPPER */
#cinema-listings {
  font-family: 'Neue Haas Grotesk Display Pro', Helvetica, Arial, sans-serif;
  max-width: 1080px;
  margin: 0 auto;
  padding: 40px 40px;
  background: #FDFDFB;
}

/* CINEMA HEADERS & FULL-WIDTH SEPARATOR */
.cinema {
  margin-left: -40px;
  margin-right: -40px;
  padding-left: 40px;
  padding-right: 40px;
  margin-top: 10px;
  margin-bottom: 20px;
  position: relative;
  padding-bottom: 20px;
}

/* The FULL-WIDTH separator line (The true terminator line) */
.cinema::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  border-bottom: 1px solid #eee;
}

.cinema:last-of-type::after {
  border-bottom: none;
}

.cinema h2 {
  text-align: center;
  font-size: 2.0rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  margin: 0;
}

/* 3–COLUMN DESKTOP GRID */
.screenings {
  display: flex;
  flex-wrap: wrap;
  gap: 14px;
  justify-content: center;
  align-items: stretch;
}

/* FILM CARD */
.screening {
  flex: 0 0 calc((100% - 28px) / 3);
  box-sizing: border-box;
  padding: 10px 4px 12px;
  border-bottom: none;
  border-right: none;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  line-height: 1.25;
}

/* Contained horizontal line on ALL cards */
.screening::before {
  content: "";
  position: absolute;
  bottom: 0;
  left: 10px;
  right: 10px;
  border-bottom: 1px solid #eee;
}

/* JS override — last row has no line */
.last-row-card::before {
  content: none !important;
  border-bottom: none !important;
}

/* FILM TITLE */
.screening a {
  font-size: 1.25rem !important;
  font-weight: 300 !important;
  line-height: 1.15 !important;
  color: #000;
  text-decoration: underline;
  margin-bottom: 6px;
}

.screening a:hover {
  text-decoration: underline;
}

/* METADATA */
.screening .details {
  font-size: 0.875rem;
  color: #555;
  font-weight: 300 !important;
  margin-bottom: 10px;
}

/* TIME */
.screening .time {
  font-size: 0.875rem;
  font-weight: 700 !important;
  color: #000;
  margin-top: auto;
  padding-top: 4px;
}

/* RESPONSIVE — TABLET (2 columns) */
@media (max-width: 1024px) {
  .cinema {
    margin-left: 0;
    margin-right: 0;
    padding-left: 20px;
    padding-right: 20px;
  }

  .screening {
    flex: 0 0 calc((100% - 14px) / 2);
  }
}

/* RESPONSIVE — MOBILE (1 column) */
@media (max-width: 768px) {
  .screening {
    flex: 0 0 100%;
    padding: 14px 0;
  }
}

/* FINAL TITLE ADJUSTMENT */
#cinema-listings .screening a {
  font-weight: 500 !important;
  font-size: 1.5rem !important;
  line-height: 1.15 !important;
  color: #000 !important;
}
</style>


<div 
  id="calendar-nav"
  style="
    display:flex;
    align-items:center;
    justify-content:center;
    gap:1rem;
    font-family:'Neue Haas Grotesk Display Pro', Helvetica, Arial, sans-serif;
    font-size:1.2rem;
  "
>
  <span id="prev-btn" style="cursor:pointer; font-size:1.5rem;">‹</span>

  <span 
    id="calendar-date"
    style="
      min-width:260px;
      text-align:center;
      cursor:pointer;
      border-bottom:1px dotted #000;
      font-size:2rem;
      font-weight:500;
      letter-spacing:0.01em;
    "
  ></span>

  <input type="date" id="date-picker" style="display:none;">
  
  <span id="next-btn" style="cursor:pointer; font-size:1.5rem;">›</span>
</div>

<div id="cinema-listings"></div>

<script src="https://josephrichards77-svg.github.io/intervals-listings/listings.js?v=1"></script>
